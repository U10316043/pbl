{% extends 'base.html' %}
{% load staticfiles %}
{% block website_title %}個人資料{% endblock %}
{% block css_source %}
    <link rel="stylesheet" href="{% static 'css/profile_basestyle.css' %}" type="text/css" />
{% endblock %}
{% block content %}
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-3">
                {% include 'profile_base.html' %}
            </div>
            <div class="col-md-9">
    	        <div class="profile profile-content">
    	            <div class="row">
                        <div class="col-md-8 col-md-offset-2">
                            <form class="form-horizontal" role="form" enctype="multipart/form-data" action="{% url 'users:update_profile' %}" method="post">
                                <fieldset>
                                    <legend>
                                        個人資料
                                    </legend>
                                    <!-- Text input-->
                                    <div class="form-group">
                                        <label class="col-md-2 control-label" for="textinput">姓氏</label>  
                                        <div class="col-md-10">
                                            <input id="textinput" name="lastname" type="text" value="{{ user.last_name }}" class="form-control input-md">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-2 control-label" for="textinput">名字</label>  
                                        <div class="col-md-10">
                                            <input id="textinput" name="firstname" type="text" value="{{ user.first_name }}" class="form-control input-md">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-2 control-label" for="textinput">學號</label>  
                                        <div class="col-md-10">
                                            <!--<label class="control-label">{{ user.extraprofile.name }}</label>-->
					    <input id="textinput" name="stdNum" type="text" value="{{user.extraprofile.name}}" class="form-control input-md">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-2 control-label" for="textinput">電子信箱</label>  
                                        <div class="col-md-10">
                                            <input id="textinput" name="email" type="text" value="{{ user.email }}" class="form-control input-md">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-2 control-label" for="radios">性別</label>
                                        <div class="col-md-10">
                                            <label class="radio-inline" for="radios-0">
                                                <input type="radio" name="gender" id="radios-0" value="male" {% if user.extraprofile.gender == 'male' %}checked="checked"{% endif %}>
                                                男
                                            </label>
                                            <label class="radio-inline" for="radios-1">
                                                <input type="radio" name="gender" id="radios-1" value="female" {% if user.extraprofile.gender == 'female' %}checked="checked"{% endif %}>
                                                女
                                            </label>
                                        </div>
                                    </div>
                                    <!-- File Button --> 
                                    <div class="form-group">
                                        <label class="col-md-2 control-label" for="filebutton">大頭貼</label>
                                        <div class="col-md-10">
                                            <input id="uploadFile" placeholder="Choose File" disabled="disabled" />
                                            <div class="fileUpload btn btn-primary">
                                                <span>上傳檔案</span><input id="uploadBtn" name="image" type="file" class="hide_file" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-2 control-label" for="textinput">上次登入</label>  
                                        <div class="col-md-10">
                                            {{ user.last_login }}
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-10">
                                            <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>&nbsp;更新資料</button>
                                        </div>
                                    </div>
                                </fieldset>
                            {% csrf_token %}
                            </form>
                        </div>
                    </div>
    	        </div>
		    </div>
        </div>
    </div>
{% endblock %}
{% block js_source %}
    <script type="text/javascript" src="{% static 'js/upload_file.js' %}"></script>
{% endblock %}
